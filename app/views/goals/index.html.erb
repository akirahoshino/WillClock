<head>
  <div>
    <script>
    function startTime() {
      var today = new Date();
      var h = today.getHours();
      var m = today.getMinutes();
      var s = today.getSeconds();
      m = checkTime(m);
      s = checkTime(s);
      document.getElementById('clock').innerHTML =
      h + ":" + m + ":" + s;
      var t = setTimeout(startTime, 500);
    }
    function checkTime(i) {
      if (i < 10) {i = "0" + i};  // add zero in front of numbers < 10
      return i;
    }
    </script>
  </div>
</head>

<body onload="startTime()"></body>


<p class="text-right">
  <i>You're logged in as: </i>
  <%= p current_user.email %>
</p>

<h1 class="text-center bg-secondary text-light">目標一覧</h1>

<body class="text-center">
    <table class="table table-striped table-hover">
      <tr>  
        <!--<th>goal_id<th>-->
        <th>目標</th>
        <th>内容</th>
        <th>期限</th>
        <th>作成日</th>
        <th><small>編集</small></th>
        <th><small>削除</small></th>
        
<% if false %>        
        <th><%= sortable "due_time", "期限" %></th>
        <th><%= sortable "created_at", "作成日" %></th>
<% end %>
      </tr>  
    <% @goal.each do |goal| %>
      <tr>
        <!--<td><%= goal.id %></td>-->
        <td><%= goal.title %></td>
        <td><%= goal.info %></td>
        <td><%= goal.due_time.in_time_zone('Tokyo') %></td>
        <td><%= goal.created_at.in_time_zone('Tokyo').to_date %></td>
        <td><%= link_to "", edit_goal_path(goal), class: "fas fa-cog" %></td>
        <td><%= link_to "", goal_path(goal), method: :delete, data: { confirm: 'Are you sure?' }, class: "fas fa-trash" %></td>
      </tr>  
    <% end %>
    </table>
    
    <div class="">
      <%= link_to "新規作成", new_goal_path, class: "text-center btn btn-outline-success my-2" %>
    </div>

</body>
